# 第五周

### 虚拟机
#### 概念表达
虚拟机（Virtual Machine）指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统。在实体计算机中能够完成的工作在虚拟机中都能够实现。在计算机中创建虚拟机时，需要将实体机的部分硬盘和内存容量作为虚拟机的硬盘和内存容量。每个虚拟机都有独立的CMOS、硬盘和操作系统，可以像使用实体机一样对虚拟机进行操作。
#### 定义
虚拟机技术是虚拟化技术的一种，所谓虚拟化技术就是将事物从一种形式转变成另一种形式，最常用的虚拟化技术有操作系统中内存的虚拟化，实际运行时用户需要的内存空间可能远远大于物理机器的内存大小，利用内存的虚拟化技术，用户可以将一部分硬盘虚拟化为内存，而这对用户是透明的。又如，可以利用虚拟专用网技术（VPN）在公共网络中虚拟化一条安全，稳定的“隧道”，用户感觉像是使用私有网络一样。

#### 虚拟机架构
* 记忆体机 : 可以直接对记忆体变数进行运算
* 暂存器机 : 必须将变数载入暂存器中，才能进行运算
* 堆叠机 : 取出堆叠上层元素进行运算，结果存回堆叠中

#### 虚拟机和模拟器的区别

虚拟机:有模拟整套CPU的指令集

模拟器:模拟电脑外部的行为

* 狭义:
  * 虚拟机: 模拟处理器指令集的软体
  * 模拟器: 模拟电脑行为的软体
* 广义:
  * 部分软体会模拟指令集、电脑行为，ex: VMware, VirtualPC, Virtual box
  * 大部分的情况不会去进行区分，用虚拟机一词通称

## C4编译器
C4 编译完成后，会产生一种《堆叠机机器码》放在记忆体内，然后 [虚拟机](vm) 会立刻执行该机器码。
## 编译器
#### 概念表达
简单讲，编译器就是将“一种语言（通常为高级语言）”翻译为“另一种语言（通常为低级语言）”的程序。

高级计算机语言便于人编写，阅读交流，维护。机器语言是计算机能直接解读、运行的。编译器将汇编或高级计算机语言源程序（Source program）作为输入，翻译成目标语言（Target language）机器代码的等价程序。源代码一般为高级语言 (High-level language)， 如Pascal、C、C++、Java、汉语编程等或汇编语言，而目标则是机器语言的目标代码（Object code），有时也称作机器代码（Machine code）

#### 定义
编译器是指从高级语言到低级语言的翻译器，同样的技术可用于不同种类语言之间的翻译。编译器是一种电脑程式，它会将用某种编程语言写成的源代码（原始语言），转换成另一种编程语言（目标语言）。

它主要的目的是将便于人编写，阅读，维护的高级电脑语言所写作的源代码程式，翻译为电脑能解读、运行的低阶机器语言的程式，也就是可执行文件。编译器将原始程式（Source program）作为输入，翻译产生使用目标语言（Target language）的等价程式。源代码一般为高阶语言 (High-level language), 如 Pascal、C、C++、C# 、Java 等，而目标语言则是彙编语言或目标机器的目标代码（Object code），有时也称作机器代码（Machine code）。

### C4支援的语法

项目 | 语法
-----|-------------------
判断 | if ... else
迴圈 | while (...)
区块 | {...}
函数呼叫 | f()
函数定义 | int f(....)
传回值 | return 
阵列存取 | a[i] 
数学运算 | +-*/%, ++, --, +=, -=, *=, /=, %=
位元运算 | &|^~
逻辑运算 |  ! && || 
列举 | enum ...
运算式 | (a*3+5)/b 
指定 | x = (a*3+5)/b
取得大小 | sizeof
强制转型 | (int*) ptr; (char) a;
基本型态 | int, char
指标 | *ptr 
递迴 | int f(n) { ... return f(n-1) + f(n-2); }
阵列存取 | a[i]

> 参考资料：百度百科
